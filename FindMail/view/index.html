<!DOCTYPE html>
<html ng-app="mailSearch">
<head>
<meta charset="ISO-8859-1">
<title>Markit Mail Search</title>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
  <script src="index.js"></script>
  
</head>
<body  ng-controller="indexCtrl" background="img/ocean.jpg">
	<div class="navbar navbar-static-top" role="navigation">
		<div class="container">
			<h2 style="">markit Mail Search</h2>
		</div>
		<div class="container" style="margin-top: 5px;">
			<div class="row">
				<div id="custom-search-input">
					<div class="input-group col-md-12" ng-enter="fetchEmails();">
						<input type="text" class="  search-query form-control" ng-model="searchText"
							placeholder="Search Emails" /> <span class="input-group-btn">
							<button class="btn btn-danger" type="button" ng-click="fetchEmails();">
								<span class="glyphicon glyphicon-search"></span>
							</button>
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-sm-12 col-md-12">
				<div class="list-group">
						<a href="#" class="list-group-item" ng-repeat="email in emails" style="margin-top:5px;" ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}" onclick="Javascript:toggleContent(this);">
							 <span class="glyphicon glyphicon-star-empty"></span>
							 <span class="name" style="min-width: 120px; display: inline-block;">
							 {{email.from[0] | trimEmail }}</span> 
							 <span class="" style="color: RED">{{email.subject[0] | maxLen: 200}}</span> 
							 <span class="badge">{{email.sentOn | date:'MM/dd/yyyy hh:mm'}}</span>
							 <span class="pull-right">
							 	<span class="glyphicon glyphicon-paperclip" ng-show="{{email.attachment.length > 0}}"> </span>
							 </span>
							 <span class="hidden toggle">
							 		<hr/>
								<span class="">{{email.body}}</span>	
								<br />
								<span class="pull-right">
									<input type="button" value="Download" class="btn-success" onclick="Javascript:function(e){e.preventDefault(); return false;};"></input>
								</span>	
							</span>
						</a>
				</div>
			</div>
		</div>
		<div class="footer navbar-fixed-bottom" style="color: white">
			{{ footerMessage }}
		</div>
	</div>
	<script type="text/javascript">
		toggleContent = function(elem) {
			$(elem).find(".toggle").toggleClass('hidden show').fadeIn( 400 );
		};
	</script>
</body>
</html>